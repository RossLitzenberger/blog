{% extends "base.html" %}

{% block meta_title %}
<title>{{ collection.title }} | Blog by Alex Recker</title>
{% endblock %}

{% block meta_description %}
<meta name="description" content="{{ collection.description }}">
{% endblock %}

{% block meta_og_image %}
<meta property="og:image" content="http://alexrecker.com/static/img/{{ collection.body.banner }}"/>
{% endblock %}

{% block meta_canonical %}
<link rel="canonical" href="http://alexrecker.com/{{ collection.link }}">
{% endblock %}

{% block body %}
    <!-- Facebook Comments Crap -->
    <div id="fb-root"></div>
    <script>(function(d, s, id) {
          var js, fjs = d.getElementsByTagName(s)[0];
          if (d.getElementById(id)) return;
          js = d.createElement(s); js.id = id;
          js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=1479698765577737";
          fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
    </script>

	<!-- Post Title -->
	<div class="media page-header">
        {% if collection.image %}
        <a class="pull-left" href="/{{ collection.link }}"><img height="100px" class="media-object" src="/static/img/thumbs/{{ collection.image }}" alt=""/></a>
	    {% endif %}
        <div class="media-body">
	    <h2 class="media-heading">{{ collection.title }}</h2>
        <p><em>{{ collection.description }}</em></p>
	  </div>
	</div>
	
	<!-- Post Body -->
	<div class="container-fluid markdown">
		{{ collection.body }}
	</div>

	<!-- Post Comments -->
	<div class="container-fluid">
        <h3>Comments</h3>
        <div class="fb-comments container-fluid" data-href="http://alexrecker.com/{{ collection.link }}/" data-numposts="20" data-colorscheme="light"></div>
    </div>
{% endblock %}

{% block footer %}
<script type="text/javascript" src="/static/libs/jquery.min.js"></script>
<script type="text/javascript" src="/static/libs/bootstrap.min.js"></script>
<script>
    $(document).ready(function() {
        // Every image referenced from a Markdown document
        $(".markdown img").each(function() {
            // Let's put a caption if there is one
            if($(this).attr("alt"))
                $(this).wrap('<figure class="image"></figure>')
                    .after('<figcaption>'+$(this).attr("alt")+'</figcaption>');
            });
    });
</script>
{% endblock %}
